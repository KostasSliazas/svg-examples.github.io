!function(w,d){"use strict";class CreateUI{constructor(container){this.tim=0,this.imagesContainersArray=[],this.imagesArray=[],this.container=container,this.indexOfImage=0,this.isActive=!1,this.isAutoplayOn=!1,this.frag=d.createDocumentFragment(),this.imag=d.createElement("div"),this.cent=d.createElement("div"),this.left=d.createElement("div"),this.rigt=d.createElement("div"),this.clos=d.createElement("div"),this.foot=d.createElement("div"),this.alts=d.createElement("div"),this.play=d.createElement("div"),this.down=d.createElement("div"),this.onow=d.createElement("div"),this.imgs=d.createElement("img"),this.fine=d.createElement("div"),this.wdow=d.createElement("div"),this.ilef=d.createElement("div"),this.irig=d.createElement("div"),this.head=d.createElement("div"),this.insi=d.createElement("div"),this.imag.appendChild(this.head).id="head7",this.imag.appendChild(this.clos).id="clos7",this.imag.appendChild(this.cent).id="cent7",this.onow.appendChild(this.alts).id="alts7",this.frag.appendChild(this.imag).id="imag7",this.cent.appendChild(this.rigt).appendChild(this.irig).id="irig7",this.cent.appendChild(this.insi).appendChild(this.imgs),this.cent.appendChild(this.left).appendChild(this.ilef).id="ilef7",this.imag.appendChild(this.foot).appendChild(this.play).id="play7",this.imag.appendChild(this.onow).appendChild(this.wdow).appendChild(this.down),this.foot.appendChild(this.fine),this.foot.id="foot7",this.rigt.id="rigt7",this.insi.id="insi7",this.left.id="left7",this.onow.id="onow7",this.down.id="down7",this.wdow.id="wdow7",this.imgs.setAttribute("alt",""),this.imag.setAttribute("tabindex","-1"),this.imag.className="hide7",this.imgs.src="data:,",d.body.appendChild(this.frag)}loaded(e){e.onload=e=>{e.target.parentElement.className=""},e.src=e.src}autoPlay(){if(!this.isActive)return!1;if(this.isAutoplayOn)this.clear();else{this.play.className="acts7",this.isAutoplayOn=!0;const delay=()=>{this.right(),this.show(),this.tim=setTimeout(()=>{clearTimeout(this.tim),this.tim=0,this.indexOfImage===this.imagesArray.length-1&&this.isAutoplayOn?this.clear():delay()},1500)};delay()}this.setActiveClass.call(this.play)}clear(){clearTimeout(this.tim),this.tim=0,this.isAutoplayOn=!1,this.play.classList.remove("acts7")}downloads(){this.setActiveClass.call(this.down);const a=d.createElement("a");a.setAttribute("rel","noopener noreferrer"),a.target="_blank",a.href=this.imagesArray[this.indexOfImage].src,a.download=this.imagesArray[this.indexOfImage].src.split("/").pop(),a.click(),a.remove(),this.onow.dataset.selected=this.imagesArray[this.indexOfImage].src}lefts(){0===this.indexOfImage&&(this.indexOfImage=this.imagesArray.length),this.indexOfImage--,this.setActiveClass.call(this.ilef)}right(){this.indexOfImage===this.imagesArray.length-1&&(this.indexOfImage=-1),this.indexOfImage++,this.setActiveClass.call(this.irig)}close(){this.clear(),this.isActive=!1,this.imag.className="hide7",d.body.style.overflowY="visible"}setActiveClass(){this.className+=" focu7",setTimeout(()=>{this.classList.remove("focu7")},100)}show(){if(null===this.indexOfImage)return!1;this.isActive||(this.isActive=!0,this.imag.className="",d.body.style.overflowY="hidden",this.imag.focus()),this.left.className=0===this.indexOfImage?"hide7":"",this.rigt.className=this.indexOfImage===this.imagesArray.length-1?"hide7":"";const imageSrc=this.imagesArray[this.indexOfImage].src;this.insi.className="spin7",this.alts.innerText=imageSrc.slice(imageSrc.lastIndexOf("/")+1),this.fine.innerText=Number(this.indexOfImage)+1+"/"+this.imagesArray.length,"svg"===imageSrc.substr(imageSrc.length-3)?this.imgs.src=imageSrc:this.imgs.src=imageSrc.substring(0,imageSrc.lastIndexOf("/")+1)+"big"+imageSrc.slice(imageSrc.lastIndexOf("/")),this.imgs.onerror=()=>{this.imgs.src=imageSrc},this.loaded(this.imgs)}}d.addEventListener("DOMContentLoaded",()=>{const cont=d.getElementsByClassName("images-container")[0]?d.getElementsByClassName("images-container"):[d.body],images=new CreateUI(cont);for(let i=images.container.length-1;i>=0;i--)images.imagesContainersArray.push(images.container[i]);for(let i=images.imagesContainersArray.length-1;i>=0;i--){const img=images.imagesContainersArray[i].getElementsByTagName("img");for(let j=0;j<img.length;j++)img[j].parentElement.className="spin7",images.loaded(img[j]),images.imagesArray.push(img[j])}if("BODY"===images.imagesContainersArray[0].tagName)images.imagesArray.pop(),d.addEventListener("click",listenForImages);else for(let i=images.imagesContainersArray.length-1;i>=0;i--)images.imagesContainersArray[i].addEventListener("click",listenForImages);function listenForImages(e){"IMG"===e.target.tagName&&(e.preventDefault(),e.stopPropagation(),images.indexOfImage=-1===images.imagesArray.indexOf(e.target)?null:images.imagesArray.indexOf(e.target),images.show())}function controls(e){switch(e.preventDefault(),e.stopPropagation(),e.target.id){case"rigt7":images.clear(),images.right(),images.show();break;case"left7":images.clear(),images.lefts(),images.show();break;case"play7":images.autoPlay();break;case"wdow7":if(images.imagesArray[images.indexOfImage].src===images.onow.dataset.selected)return;images.downloads();break;case"clos7":images.close();break;default:return!1}return!1}images.imag.addEventListener("click",controls,!0),w.addEventListener("keyup",e=>{if(!images.isActive||e.isComposing||229===e.key)return!1;e.preventDefault(),"ArrowLeft"===e.key&&(images.clear(),images.lefts(),images.show()),"ArrowRight"===e.key&&(images.clear(),images.right(),images.show()),"Escape"===e.key&&images.close()," "===e.key&&images.autoPlay()})})}(window,document);