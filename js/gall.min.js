"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(let i=0;i<props.length;i++){const descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}!function(w,d){const CreateUI=function(){function CreateUI(container){_classCallCheck(this,CreateUI),this.container=container,this.indexOfImage=0,this.isActive=!1,this.isAutoplayOn=!1,this.frag=d.createDocumentFragment(),this.imag=d.createElement("div"),this.cent=d.createElement("div"),this.left=d.createElement("div"),this.rigt=d.createElement("div"),this.clos=d.createElement("div"),this.head=d.createElement("div"),this.foot=d.createElement("div"),this.alts=d.createElement("span"),this.play=d.createElement("div"),this.down=d.createElement("div"),this.onow=d.createElement("div"),this.imgs=d.createElement("img"),this.fine=d.createElement("span"),this.imgs.src="data:,",this.imgs.setAttribute("alt",""),this.imag.appendChild(this.head),this.imag.appendChild(this.clos),this.imag.appendChild(this.cent).appendChild(this.imgs),this.head.appendChild(this.alts),this.cent.appendChild(this.rigt),this.cent.appendChild(this.left),this.frag.appendChild(this.imag),this.imag.appendChild(this.foot).appendChild(this.play),this.foot.appendChild(this.onow).appendChild(this.down),this.foot.appendChild(this.fine),this.alts.id="alts",this.head.id="head",this.foot.id="foot",this.clos.id="clos",this.rigt.id="rigt",this.left.id="left",this.play.id="play",this.onow.id="onow",this.down.id="down",this.cent.id="cent",this.imag.id="imag",this.imag.className="vis hidden",d.body.appendChild(this.frag),this.tim=0,this.imagesContainersArray=[],this.imagesArray=[];for(let i=this.container.length;i--;)this.imagesContainersArray.push(this.container[i]);for(let _i=this.imagesContainersArray.length;_i--;){const img=this.imagesContainersArray[_i].getElementsByTagName("img");for(let j=0;j<img.length;j++)this.imagesArray.push(img[j])}}return _createClass(CreateUI,[{key:"autoPlay",value:function autoPlay(){const that=this;if(that.indexOfImage===that.imagesArray.length-1&&(that.indexOfImage=-1),this.isAutoplayOn)this.clear();else{function delay(){that.right(),that.show(),that.tim=setTimeout((function(){clearTimeout(that.tim),that.tim=0,that.indexOfImage<that.imagesArray.length-1&&delay()}),1e3),that.indexOfImage===that.imagesArray.length-1&&that.clear()}this.isAutoplayOn=!0,this.play.className+=" acts",delay()}}},{key:"clear",value:function clear(){clearTimeout(this.tim),this.tim=0,this.play.className="play",this.isActive=!1,this.isAutoplayOn=!1}},{key:"download",value:function download(){const a=d.createElement("a");a.setAttribute("rel","noopener noreferrer"),a.target="_blank",a.href=this.imagesArray[this.indexOfImage].src,a.download=this.imagesArray[this.indexOfImage].src.split("/").pop(),a.click(),a.remove(),this.onow.dataset.selected=this.imagesArray[this.indexOfImage].src}},{key:"lefts",value:function lefts(){this.indexOfImage>0&&this.indexOfImage--}},{key:"right",value:function right(){this.indexOfImage<this.imagesArray.length-1&&this.indexOfImage++}},{key:"close",value:function close(){this.clear(),d.body.style.overflow="visible",this.imag.className+=" hidden"}},{key:"show",value:function show(){this.isActive||(this.isActive=!0,this.imag.className="vis",w.setTimeout((function(){d.body.style.overflow="hidden"}),120)),this.left.className=0===this.indexOfImage?"left hidden":"left",this.rigt.className=this.indexOfImage===this.imagesArray.length-1?"rigt hidden":"rigt",this.alts.innerText=this.imagesArray[this.indexOfImage].getAttribute("alt")||"",this.fine.innerText=Number(this.indexOfImage+1)+"/"+this.imagesArray.length,this.imgs.src=this.imagesArray[this.indexOfImage].src}}]),CreateUI}();d.addEventListener("DOMContentLoaded",(function(){const cont=d.getElementsByClassName("images-container")[0]?d.getElementsByClassName("images-container"):[d.body],images=new CreateUI(cont);d.addEventListener("click",(function(e){switch(e.preventDefault(),e.stopPropagation(),e.target.id||e.target.tagName){case"IMG":images.indexOfImage=images.imagesArray.indexOf(e.target),images.show();break;case"rigt":images.clear(),images.right(),images.show();break;case"left":images.clear(),images.lefts(),images.show();break;case"play":images.autoPlay();break;case"onow":if(images.imagesArray[images.indexOfImage].src===images.onow.dataset.selected)return;images.download();break;case"clos":images.close()}return!1})),w.addEventListener("keyup",(function(e){e.isComposing||229===e.key||(e.preventDefault(),"ArrowLeft"===e.key&&(images.clear(),images.lefts(),images.show()),"ArrowRight"===e.key&&(images.clear(),images.right(),images.show()),"Escape"===e.key&&images.close()," "===e.key&&images.autoPlay())}))}))}(window,document);